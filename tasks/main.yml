---
- name: Seeding ansible ground if Debian 8
  script: files/seed-debian-8.sh
  register: ansible_seed
  changed_when: ansible_seed.rc == 0
  failed_when: ansible_seed.rc != 0 and ansible_seed.rc != 42
  when: "{{ ansible_distribution == 'Debian' and ansible_distribution_release == 'jessie' }}"

- name: Seeding ansible ground if CentOS 7
  script: files/seed-centos-7.sh
  register: ansible_seed
  changed_when: ansible_seed.rc == 0
  failed_when: ansible_seed.rc != 0 and ansible_seed.rc != 42
  when: "{{ ansible_distribution == 'CentOS' and ansible_distribution_major_version == '7' }}"

- pip:
    name: ansible
    state: latest